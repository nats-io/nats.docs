# Контейнеры

При запуске Docker-образа NATS Streaming Server рекомендуется указывать смонтированный том, чтобы можно было восстановить данные. Параметр `-dir` в этом случае должен указывать на директорию внутри смонтированного тома. Однако после перезапуска можно получить ошибку примерно такого вида:

```text
[FTL] STREAM: Failed to start: streaming state was recovered but cluster log path "mycluster/a" is empty
```

Это происходит потому, что сервер восстановил состояние streaming \(по пути из `-dir` в смонтированном томе\), но не восстановил состояние RAFT, которое по умолчанию хранится в директории с именем cluster id относительно текущего каталога запуска исполняемого файла. В контексте контейнера эти данные теряются после остановки контейнера.

Чтобы избежать этой проблемы, укажите `-cluster_log_path` и убедитесь, что он указывает на смонтированный том, чтобы состояние RAFT восстанавливалось вместе с состоянием Streaming.

