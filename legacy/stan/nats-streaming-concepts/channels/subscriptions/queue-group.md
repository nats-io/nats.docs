# Queue Group

Когда потребители хотят читать из одного канала, но получать разные сообщения \(а не одни и те же всем\), нужно создавать queue-подписку. При указании имени queue-группы сервер отправляет каждое сообщение из журнала только одному потребителю в группе. Схема распределения сообщений не фиксирована, поэтому приложению не стоит полагаться на конкретный порядок доставки.

После создания первого участника группы любой следующий участник будет получать сообщения, исходя из текущей позиции сервера в журнале сообщений для этой группы. Это означает, что стартовая позиция, указанная новым участником, сервером игнорируется.

Когда последний участник группы уходит \(unsubscribe/close подписки или закрытие подключения\), группа удаляется с сервера. Следующее приложение, создающее подписку с тем же именем, создаст новую группу, начиная со стартовой позиции из запроса на подписку.

Queue-подписка также может быть durable. Для этого клиент должен передать имя queue и durable. Поведение будет комбинацией queue- и durable-подписки. Но, в отличие от durable-подписки, client ID не является частью имени queue-группы, так как client ID должен быть уникальным и иначе не позволил бы нескольким подключениям участвовать в группе. Главное отличие queue-подписки от durable-подписки: когда последний участник покидает группу, состояние группы сохраняется на сервере. Когда участник снова присоединяется, доставка продолжается.

_**Примечание: для durable queue-подписки удаление группы происходит, когда последний участник делает**_ **unsubscribe** _**\(а не просто close\).**_

