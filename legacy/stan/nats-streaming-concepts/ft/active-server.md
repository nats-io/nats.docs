# Активный сервер

В группе есть только один активный сервер. Это сервер, который первым получил эксклюзивную блокировку хранилища. Для реализации `FileStore` это означает попытку получить advisory lock на файл в общем хранилище данных. Для реализации `SQLStore` используется специальная таблица, где владелец блокировки обновляет колонку. Другие инстансы перехватят блокировку, если колонка не обновляется в течение некоторого времени.

Если выбранный сервер не смог получить блокировку, потому что она уже занята, он вернется в режим ожидания.

_**Только активный сервер обращается к хранилищу и обслуживает всех клиентов.**_

