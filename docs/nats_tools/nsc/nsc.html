
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Basics Â· NATS</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="The NATS Maintainers">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-toggle-chapters/toggle.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        

    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="streams.html" />
    
    
    <link rel="prev" href="./" />
    

<link rel="stylesheet" href="https://cdn.materialdesignicons.com/3.6.95/css/materialdesignicons.min.css">

    </head>
    <body>
        

<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../whats_new/whats_new_20.html">
            
                <a href="../../whats_new/whats_new_20.html">
            
                    
                    What's New in 2.0
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Concepts</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../developer/concepts/intro.html">
            
                <a href="../../developer/concepts/intro.html">
            
                    
                    What is NATS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../../developer/concepts/subjects.html">
            
                <a href="../../developer/concepts/subjects.html">
            
                    
                    Subject-Based Messaging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../../developer/concepts/pubsub.html">
            
                <a href="../../developer/concepts/pubsub.html">
            
                    
                    Publish-Subscribe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../../developer/concepts/reqreply.html">
            
                <a href="../../developer/concepts/reqreply.html">
            
                    
                    Request-Reply
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../../developer/concepts/queue.html">
            
                <a href="../../developer/concepts/queue.html">
            
                    
                    Queue Groups
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../../developer/concepts/acks.html">
            
                <a href="../../developer/concepts/acks.html">
            
                    
                    Acknowledgements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../../developer/concepts/seq_num.html">
            
                <a href="../../developer/concepts/seq_num.html">
            
                    
                    Sequence Numbers
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Developing With NATS</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../developer/">
            
                <a href="../../developer/">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../../developer/connecting/intro.html">
            
                <a href="../../developer/connecting/intro.html">
            
                    
                    Connecting
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../../developer/connecting/default_server.html">
            
                <a href="../../developer/connecting/default_server.html">
            
                    
                    Connecting to the Default Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../../developer/connecting/specific_server.html">
            
                <a href="../../developer/connecting/specific_server.html">
            
                    
                    Connecting to a Specific Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="../../developer/connecting/cluster.html">
            
                <a href="../../developer/connecting/cluster.html">
            
                    
                    Connecting to a Cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.4" data-path="../../developer/connecting/connect_timeout.html">
            
                <a href="../../developer/connecting/connect_timeout.html">
            
                    
                    Setting a Connect Timeout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.5" data-path="../../developer/connecting/pingpong.html">
            
                <a href="../../developer/connecting/pingpong.html">
            
                    
                    Ping/Pong Protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.6" data-path="../../developer/connecting/protocol.html">
            
                <a href="../../developer/connecting/protocol.html">
            
                    
                    Controlling the Client/Server Protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.7" data-path="../../developer/connecting/noecho.html">
            
                <a href="../../developer/connecting/noecho.html">
            
                    
                    Turning Off Echo'd Messages
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../../developer/reconnect/intro.html">
            
                <a href="../../developer/reconnect/intro.html">
            
                    
                    Automatic Reconnections
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="../../developer/reconnect/disable.html">
            
                <a href="../../developer/reconnect/disable.html">
            
                    
                    Disabling Reconnect
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="../../developer/reconnect/max.html">
            
                <a href="../../developer/reconnect/max.html">
            
                    
                    Set the Number of Reconnect Attempts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.3" data-path="../../developer/reconnect/wait.html">
            
                <a href="../../developer/reconnect/wait.html">
            
                    
                    Pausing Between Reconnect Attempts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.4" data-path="../../developer/reconnect/random.html">
            
                <a href="../../developer/reconnect/random.html">
            
                    
                    Avoiding the Thundering Herd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.5" data-path="../../developer/reconnect/events.html">
            
                <a href="../../developer/reconnect/events.html">
            
                    
                    Listening for Reconnect Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.6" data-path="../../developer/reconnect/buffer.html">
            
                <a href="../../developer/reconnect/buffer.html">
            
                    
                    Buffering Messages During Reconnect Attempts
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../../developer/security/intro.html">
            
                <a href="../../developer/security/intro.html">
            
                    
                    Securing Connections
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.4.1" data-path="../../developer/security/userpass.html">
            
                <a href="../../developer/security/userpass.html">
            
                    
                    Authenticating with a User and Password
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.2" data-path="../../developer/security/token.html">
            
                <a href="../../developer/security/token.html">
            
                    
                    Authenticating with a Token
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.3" data-path="../../developer/security/nkey.html">
            
                <a href="../../developer/security/nkey.html">
            
                    
                    Authenticating with an NKey
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.4" data-path="../../developer/security/creds.html">
            
                <a href="../../developer/security/creds.html">
            
                    
                    Authenticating with a Credentials File
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.5" data-path="../../developer/security/tls.html">
            
                <a href="../../developer/security/tls.html">
            
                    
                    Encrypting Connections with TLS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../../developer/receiving/intro.html">
            
                <a href="../../developer/receiving/intro.html">
            
                    
                    Receiving Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.5.1" data-path="../../developer/receiving/sync.html">
            
                <a href="../../developer/receiving/sync.html">
            
                    
                    Synchronous Subscriptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.2" data-path="../../developer/receiving/async.html">
            
                <a href="../../developer/receiving/async.html">
            
                    
                    Asynchronous Subscriptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.3" data-path="../../developer/receiving/unsubscribing.html">
            
                <a href="../../developer/receiving/unsubscribing.html">
            
                    
                    Unsubscribing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.4" data-path="../../developer/receiving/unsub_after.html">
            
                <a href="../../developer/receiving/unsub_after.html">
            
                    
                    Unsubscribing After N Messages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.5" data-path="../../developer/receiving/reply.html">
            
                <a href="../../developer/receiving/reply.html">
            
                    
                    Replying to a Message
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.6" data-path="../../developer/receiving/wildcards.html">
            
                <a href="../../developer/receiving/wildcards.html">
            
                    
                    Wildcard Subscriptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.7" data-path="../../developer/receiving/queues.html">
            
                <a href="../../developer/receiving/queues.html">
            
                    
                    Queue Subscriptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.8" data-path="../../developer/receiving/drain.html">
            
                <a href="../../developer/receiving/drain.html">
            
                    
                    Draining Messages Before Disconnect
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.9" data-path="../../developer/receiving/structure.html">
            
                <a href="../../developer/receiving/structure.html">
            
                    
                    Structured Data
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../../developer/sending/intro.html">
            
                <a href="../../developer/sending/intro.html">
            
                    
                    Sending Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.6.1" data-path="../../developer/sending/replyto.html">
            
                <a href="../../developer/sending/replyto.html">
            
                    
                    Including a Reply Subject
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.2" data-path="../../developer/sending/request_reply.html">
            
                <a href="../../developer/sending/request_reply.html">
            
                    
                    Request-Reply Semantics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.3" data-path="../../developer/sending/caches.html">
            
                <a href="../../developer/sending/caches.html">
            
                    
                    Caches, Flush and Ping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.4" data-path="../../developer/sending/structure.html">
            
                <a href="../../developer/sending/structure.html">
            
                    
                    Sending Structured Data
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="../../developer/events/intro.html">
            
                <a href="../../developer/events/intro.html">
            
                    
                    Monitoring the Connection
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.7.1" data-path="../../developer/events/events.html">
            
                <a href="../../developer/events/events.html">
            
                    
                    Listen for Connection Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7.2" data-path="../../developer/events/slow.html">
            
                <a href="../../developer/events/slow.html">
            
                    
                    Slow Consumers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="../../developer/tutorials/intro.html">
            
                <a href="../../developer/tutorials/intro.html">
            
                    
                    Tutorials
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.8.1" data-path="../../developer/tutorials/pubsub.html">
            
                <a href="../../developer/tutorials/pubsub.html">
            
                    
                    Explore NATS Pub/Sub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.8.2" data-path="../../developer/tutorials/reqreply.html">
            
                <a href="../../developer/tutorials/reqreply.html">
            
                    
                    Explore NATS Request/Reply
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.8.3" data-path="../../developer/tutorials/queues.html">
            
                <a href="../../developer/tutorials/queues.html">
            
                    
                    Explore NATS Queueing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.8.4" data-path="../../developer/tutorials/custom_dialer.html">
            
                <a href="../../developer/tutorials/custom_dialer.html">
            
                    
                    Advanced Connect and Custom Dialer in Go
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">NATS Server</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../../nats_server/installation.html">
            
                <a href="../../nats_server/installation.html">
            
                    
                    Installing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../../nats_server/running.html">
            
                <a href="../../nats_server/running.html">
            
                    
                    Running
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="../../nats_server/windows_srv.html">
            
                <a href="../../nats_server/windows_srv.html">
            
                    
                    Window Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../../nats_server/clients.html">
            
                <a href="../../nats_server/clients.html">
            
                    
                    Clients
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../../nats_server/flags.html">
            
                <a href="../../nats_server/flags.html">
            
                    
                    Flags
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../../nats_server/configuration.html">
            
                <a href="../../nats_server/configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.5.1" data-path="../../nats_server/securing_nats.html">
            
                <a href="../../nats_server/securing_nats.html">
            
                    
                    Securing NATS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.5.1.1" data-path="../../nats_server/tls.html">
            
                <a href="../../nats_server/tls.html">
            
                    
                    Enabling TLS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.1.2" data-path="../../nats_server/auth_intro.html">
            
                <a href="../../nats_server/auth_intro.html">
            
                    
                    Authentication
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.5.1.2.1" data-path="../../nats_server/tokens.html">
            
                <a href="../../nats_server/tokens.html">
            
                    
                    Tokens
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.1.2.2" data-path="../../nats_server/username_password.html">
            
                <a href="../../nats_server/username_password.html">
            
                    
                    Username/Password
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.1.2.3" data-path="../../nats_server/tls_mutual_auth.html">
            
                <a href="../../nats_server/tls_mutual_auth.html">
            
                    
                    TLS Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.1.2.4" data-path="../../nats_server/nkey_auth.html">
            
                <a href="../../nats_server/nkey_auth.html">
            
                    
                    NKeys
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.1.2.5" data-path="../../nats_server/jwt_auth.html">
            
                <a href="../../nats_server/jwt_auth.html">
            
                    
                    Accounts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.1.2.6" data-path="../../nats_server/auth_timeout.html">
            
                <a href="../../nats_server/auth_timeout.html">
            
                    
                    Authentication Timeout
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.5.1.3" data-path="../../nats_server/authorization.html">
            
                <a href="../../nats_server/authorization.html">
            
                    
                    Authorization
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.5.2" data-path="../../nats_server/clustering.html">
            
                <a href="../../nats_server/clustering.html">
            
                    
                    Clustering
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.5.2.1" data-path="../../nats_server/cluster_config.html">
            
                <a href="../../nats_server/cluster_config.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.2.2" data-path="../../nats_server/cluster_tls.html">
            
                <a href="../../nats_server/cluster_tls.html">
            
                    
                    TLS Authentication
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.5.3" data-path="../../gateways/">
            
                <a href="../../gateways/">
            
                    
                    Gateways
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.5.3.1" data-path="../../gateways/gateway.html">
            
                <a href="../../gateways/gateway.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.5.4" data-path="../../leafnodes/">
            
                <a href="../../leafnodes/">
            
                    
                    Leaf Nodes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.5.4.1" data-path="../../leafnodes/leafnode_conf.html">
            
                <a href="../../leafnodes/leafnode_conf.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.5.5" data-path="../../nats_server/logging.html">
            
                <a href="../../nats_server/logging.html">
            
                    
                    Logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.6" data-path="../../nats_server/monitoring.html">
            
                <a href="../../nats_server/monitoring.html">
            
                    
                    Monitoring
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="../../nats_admin/">
            
                <a href="../../nats_admin/">
            
                    
                    Managing A NATS Server
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.6.1" data-path="../../nats_admin/upgrading_cluster.html">
            
                <a href="../../nats_admin/upgrading_cluster.html">
            
                    
                    Upgrading a Cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6.2" data-path="../../nats_admin/slow_consumers.html">
            
                <a href="../../nats_admin/slow_consumers.html">
            
                    
                    Slow Consumers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6.3" data-path="../../nats_admin/signals.html">
            
                <a href="../../nats_admin/signals.html">
            
                    
                    Signals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6.4" data-path="../../sys_accounts/">
            
                <a href="../../sys_accounts/">
            
                    
                    System Accounts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.6.4.1" data-path="../../sys_accounts/sys_accounts.html">
            
                <a href="../../sys_accounts/sys_accounts.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="../../nats_docker/">
            
                <a href="../../nats_docker/">
            
                    
                    NATS and Docker
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.7.1" data-path="../../nats_docker/tutorial.html">
            
                <a href="../../nats_docker/tutorial.html">
            
                    
                    Tutorial
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.2" data-path="../../nats_docker/docker_swarm.html">
            
                <a href="../../nats_docker/docker_swarm.html">
            
                    
                    Docker Swarm
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">NATS Tools</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../mkpasswd.html">
            
                <a href="../mkpasswd.html">
            
                    
                    mkpasswd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../nk.html">
            
                <a href="../nk.html">
            
                    
                    nk
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="./">
            
                <a href="./">
            
                    
                    nsc
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="5.3.1" data-path="nsc.html">
            
                <a href="nsc.html">
            
                    
                    Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.2" data-path="streams.html">
            
                <a href="streams.html">
            
                    
                    Streams
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.3" data-path="services.html">
            
                <a href="services.html">
            
                    
                    Services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.4" data-path="signing_keys.html">
            
                <a href="signing_keys.html">
            
                    
                    Signing Keys
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="../nas/">
            
                <a href="../nas/">
            
                    
                    nats-account-server
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.4.1" data-path="../nas/nas_conf.html">
            
                <a href="../nas/nas_conf.html">
            
                    
                    Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4.2" data-path="../nas/inspecting_jwts.html">
            
                <a href="../nas/inspecting_jwts.html">
            
                    
                    Inspecting JWTs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4.3" data-path="../nas/mem_resolver.html">
            
                <a href="../nas/mem_resolver.html">
            
                    
                    Memory Resolver
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="../nats_top/">
            
                <a href="../nats_top/">
            
                    
                    nats-top
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.5.1" data-path="../nats_top/tutorial.html">
            
                <a href="../nats_top/tutorial.html">
            
                    
                    Tutorial
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="../natsbench.html">
            
                <a href="../natsbench.html">
            
                    
                    nats-bench
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">NATS Streaming Concepts</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../nats_streaming/intro.html">
            
                <a href="../../nats_streaming/intro.html">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="../../nats_streaming/relation-to-nats.html">
            
                <a href="../../nats_streaming/relation-to-nats.html">
            
                    
                    Relation to NATS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../../nats_streaming/client-connections.html">
            
                <a href="../../nats_streaming/client-connections.html">
            
                    
                    Client Connections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../../nats_streaming/channels/channels.html">
            
                <a href="../../nats_streaming/channels/channels.html">
            
                    
                    Channels
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.3.1" data-path="../../nats_streaming/channels/message-log.html">
            
                <a href="../../nats_streaming/channels/message-log.html">
            
                    
                    Message Log
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3.2" data-path="../../nats_streaming/channels/subscriptions/subscriptions.html">
            
                <a href="../../nats_streaming/channels/subscriptions/subscriptions.html">
            
                    
                    Subscriptions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.3.2.1" data-path="../../nats_streaming/channels/subscriptions/regular.html">
            
                <a href="../../nats_streaming/channels/subscriptions/regular.html">
            
                    
                    Regular
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3.2.2" data-path="../../nats_streaming/channels/subscriptions/durable.html">
            
                <a href="../../nats_streaming/channels/subscriptions/durable.html">
            
                    
                    Durable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3.2.3" data-path="../../nats_streaming/channels/subscriptions/queue-group.html">
            
                <a href="../../nats_streaming/channels/subscriptions/queue-group.html">
            
                    
                    Queue Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3.2.4" data-path="../../nats_streaming/channels/subscriptions/redelivery.html">
            
                <a href="../../nats_streaming/channels/subscriptions/redelivery.html">
            
                    
                    Redelivery
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../../nats_streaming/store-interface.html">
            
                <a href="../../nats_streaming/store-interface.html">
            
                    
                    Store Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="../../nats_streaming/store-encryption.html">
            
                <a href="../../nats_streaming/store-encryption.html">
            
                    
                    Store Encryption
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="../../nats_streaming/clustering/clustering.html">
            
                <a href="../../nats_streaming/clustering/clustering.html">
            
                    
                    Clustering
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.6.1" data-path="../../nats_streaming/clustering/supported-stores.html">
            
                <a href="../../nats_streaming/clustering/supported-stores.html">
            
                    
                    Supported Stores
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6.2" data-path="../../nats_streaming/clustering/configuration.html">
            
                <a href="../../nats_streaming/clustering/configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6.3" data-path="../../nats_streaming/clustering/auto-configuration.html">
            
                <a href="../../nats_streaming/clustering/auto-configuration.html">
            
                    
                    Auto Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6.4" data-path="../../nats_streaming/clustering/containers.html">
            
                <a href="../../nats_streaming/clustering/containers.html">
            
                    
                    Containers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="../../nats_streaming/fault-tolerance/ft.html">
            
                <a href="../../nats_streaming/fault-tolerance/ft.html">
            
                    
                    Fault Tolerance
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.7.1" data-path="../../nats_streaming/fault-tolerance/active-server.html">
            
                <a href="../../nats_streaming/fault-tolerance/active-server.html">
            
                    
                    Active Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.7.2" data-path="../../nats_streaming/fault-tolerance/standby-server.html">
            
                <a href="../../nats_streaming/fault-tolerance/standby-server.html">
            
                    
                    Standby Servers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.7.3" data-path="../../nats_streaming/fault-tolerance/shared-state.html">
            
                <a href="../../nats_streaming/fault-tolerance/shared-state.html">
            
                    
                    Shared State
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.7.4" data-path="../../nats_streaming/fault-tolerance/failover.html">
            
                <a href="../../nats_streaming/fault-tolerance/failover.html">
            
                    
                    Failover
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="../../nats_streaming/partitioning.html">
            
                <a href="../../nats_streaming/partitioning.html">
            
                    
                    Partitioning
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Developing With NATS Streaming</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../../developer/streaming/">
            
                <a href="../../developer/streaming/">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../../developer/streaming/connecting.html">
            
                <a href="../../developer/streaming/connecting.html">
            
                    
                    Connecting to NATS Streaming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../../developer/streaming/publishing.html">
            
                <a href="../../developer/streaming/publishing.html">
            
                    
                    Publishing to a Channel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../../developer/streaming/receiving.html">
            
                <a href="../../developer/streaming/receiving.html">
            
                    
                    Receiving Messages from a Channel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="../../developer/streaming/durables.html">
            
                <a href="../../developer/streaming/durables.html">
            
                    
                    Durable Subscriptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="../../developer/streaming/queues.html">
            
                <a href="../../developer/streaming/queues.html">
            
                    
                    Queue Subscriptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="../../developer/streaming/acks.html">
            
                <a href="../../developer/streaming/acks.html">
            
                    
                    Acknowledgements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.8" data-path="../../developer/streaming/protocol.html">
            
                <a href="../../developer/streaming/protocol.html">
            
                    
                    The Streaming Protocol
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">NATS Streaming Server</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../../nats_streaming/gettingstarted/install.html">
            
                <a href="../../nats_streaming/gettingstarted/install.html">
            
                    
                    Installing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="../../nats_streaming/gettingstarted/run.html">
            
                <a href="../../nats_streaming/gettingstarted/run.html">
            
                    
                    Running
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="../../nats_streaming/gettingstarted/configuring.html">
            
                <a href="../../nats_streaming/gettingstarted/configuring.html">
            
                    
                    Configuring
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="../../nats_streaming/gettingstarted/tls.html">
            
                <a href="../../nats_streaming/gettingstarted/tls.html">
            
                    
                    Securing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="../../nats_streaming/gettingstarted/process-signaling.html">
            
                <a href="../../nats_streaming/gettingstarted/process-signaling.html">
            
                    
                    Process Signaling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.6" data-path="../../nats_streaming/gettingstarted/windows-service.html">
            
                <a href="../../nats_streaming/gettingstarted/windows-service.html">
            
                    
                    Windows Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.7" data-path="../../developer/streaming/embedding.html">
            
                <a href="../../developer/streaming/embedding.html">
            
                    
                    Embedding NATS Streaming Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.8" data-path="../../nats_streaming/swarm.html">
            
                <a href="../../nats_streaming/swarm.html">
            
                    
                    Docker Swarm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.9" data-path="../../nats_streaming/monitoring/monitoring.html">
            
                <a href="../../nats_streaming/monitoring/monitoring.html">
            
                    
                    Monitoring
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.9.1" data-path="../../nats_streaming/monitoring/enabling.html">
            
                <a href="../../nats_streaming/monitoring/enabling.html">
            
                    
                    Enabling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.9.2" data-path="../../nats_streaming/monitoring/endpoints.html">
            
                <a href="../../nats_streaming/monitoring/endpoints.html">
            
                    
                    Endpoints
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">NATS Protocol</li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="../../nats_protocol/nats-protocol-demo.html">
            
                <a href="../../nats_protocol/nats-protocol-demo.html">
            
                    
                    Protocol Demo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="../../nats_protocol/nats-protocol.html">
            
                <a href="../../nats_protocol/nats-protocol.html">
            
                    
                    Client Protocol
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.2.1" data-path="../../nats_protocol/nats-client-dev.html">
            
                <a href="../../nats_protocol/nats-client-dev.html">
            
                    
                    Developing a Client
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="../../nats_protocol/nats-server-protocol.html">
            
                <a href="../../nats_protocol/nats-server-protocol.html">
            
                    
                    NATS Cluster Protocol
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Basics</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="nsc"><a name="nsc" class="plugin-anchor" href="#nsc"><i class="fa fa-link" aria-hidden="true"></i></a>NSC</h2>
<p>NATS uses JWTs to armor the various identity and authorization artifacts. These JWTs are created with the <code>nsc</code> tool. NSC simplifies the tasks of creating and managing  identities and other JWT artifacts.</p>
<p>There&#x2019;s a logical hierarchy to the entities:</p>
<ul>
<li><p><code>Operators</code> are responsible for running nats-servers, and signing account JWTs that set the limits on what an account can do, such as the number of connections, data limits, etc.</p>
</li>
<li><p><code>Accounts</code> are responsible for issuing user JWTs, and for declaring what subjects can be exported to other accounts, and what subjects they import from other accounts and what the local subjects for those imports are.</p>
</li>
<li><p><code>Users</code> are issued by an account, and encode limits regarding usage and authorization over the subject space.</p>
</li>
</ul>
<p>NSC allows you to create, edit, delete these entities, and will be central to all account based configuration.</p>
<p>In this guide, you&#x2019;ll run end-to-end on some of the configuration scenarios:</p>
<ul>
<li>generate JWTs</li>
<li>make JWTs accessible to a nats-server</li>
<li>configure a nats-server to use JWTs</li>
</ul>
<p>Let&#x2019;s run through the process of creating some identities and JWTs and work through the process.</p>
<p>By default JWTs are written to <code>~/.nsc</code> and secrets to <code>~/.nkeys</code>. You can easily change those locations by setting <code>NSC_HOME</code> and <code>NKEYS_PATH</code> respectively in your environment to your desired locations.</p>
<blockquote>
<p>The $NKEYS_PATH stores secrets. Since nkeys relies on cryptographic signatures to prove identity, anyone with access to your private keys will be able to assume your identity. With that said, treat them as secrets and guard them carefully.</p>
</blockquote>
<p>Let&#x2019;s see what settings <code>nsc</code> has in its environment:</p>
<pre class="language-"><code class="lang-text">&gt; nsc env
&#x256D;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x256E;
&#x2502;             NSC Environment              &#x2502;
&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;
&#x2502; Setting          &#x2502; Set &#x2502; Effective Value &#x2502;
&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;
&#x2502; $NKEYS_PATH      &#x2502; No  &#x2502; ~/.nkeys        &#x2502;
&#x2502; $NSC_HOME        &#x2502; No  &#x2502; ~/.nsc          &#x2502;
&#x2502; Config           &#x2502;     &#x2502; ~/.nsc/nsc.json &#x2502;
&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;
&#x2502; Stores Dir       &#x2502;     &#x2502; ~/.nsc/nats     &#x2502;
&#x2502; Default Operator &#x2502;     &#x2502;                 &#x2502;
&#x2502; Default Account  &#x2502;     &#x2502;                 &#x2502;
&#x2502; Default Cluster  &#x2502;     &#x2502;                 &#x2502;
&#x2570;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x256F;
</code></pre>
<p>By default you&#x2019;ll see that generated secrets are stored in <code>~/.nkeys</code>, and configurations in <code>~/.nsc/nats</code>. All operations are assumed to be in a context of the current operator and current account. When working with multiple operators and accounts you may need to set the current one. You can easily do so by issuing the <code>nsc env</code> and provide flags to set the current operator or account. See <code>nsc env &#x2014;help</code> for more details.</p>
<h4 id="creating-an-operator"><a name="creating-an-operator" class="plugin-anchor" href="#creating-an-operator"><i class="fa fa-link" aria-hidden="true"></i></a>Creating an Operator</h4>
<p>Let&#x2019;s create an operator called <code>Test</code>:</p>
<pre class="language-"><code class="lang-text">&gt; nsc add operator -n Test
Generated operator key - private key stored &#x201C;~/.nkeys/Test/Test.nk&#x201D;
Success! - added operator &quot;Test&quot;
</code></pre>
<p>With the above incantation, the tool generated an NKEY for the operator, stored the private key safely in <code>~/.nkeys/Test/Test.nk</code>. The file contains a single line, with the seed value for the NKEY.</p>
<blockquote>
<p>You can tell the key is a seed if it starts with the letter <code>S</code>. The type of the key is will be the second letter an <code>O</code>, <code>A</code> or <code>U</code> for <em>Operator</em>, <em>Account</em> or <em>User</em>. If the key does not start with an <code>S</code> you have instead a public key.</p>
</blockquote>
<p>The tool also created a JWT with all default settings for the operator test, and stored it in <code>~/.nsc/nats/Test/Test.jwt</code>. The <code>~/.nsc/nats/Test</code> directory will also contain a directory where accounts related to this operator will live.</p>
<p>You can view the JWT by entering the command:</p>
<pre class="language-"><code class="lang-text">&gt; nsc describe operator
&#x256D;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x256E;
&#x2502;           Operator Details            &#x2502;
&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;
&#x2502; Name        &#x2502; Test                    &#x2502;
&#x2502; Operator ID &#x2502; OAYI3YUZSWDN            &#x2502;
&#x2502; Issuer ID   &#x2502; OAYI3YUZSWDN            &#x2502;
&#x2502; Issued      &#x2502; 2019-04-24 19:48:55 UTC &#x2502;
&#x2502; Expires     &#x2502;                         &#x2502;
&#x2570;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x256F;
</code></pre>
<p>Note that the Operator ID is truncated to simplify the output, to get the full ID, do:</p>
<pre class="language-"><code class="lang-text">&gt; nsc describe operator -W
&#x256D;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x256E;
&#x2502;                            Operator Details                            &#x2502;
&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;
&#x2502; Name        &#x2502; Test                                                     &#x2502;
&#x2502; Operator ID &#x2502; OAYI3YUZSWDNMERD2IN3HZSIP3JA2E3VDTXSTEVOIII273XL2NABJP64 &#x2502;
&#x2502; Issuer ID   &#x2502; OAYI3YUZSWDNMERD2IN3HZSIP3JA2E3VDTXSTEVOIII273XL2NABJP64 &#x2502;
&#x2502; Issued      &#x2502; 2019-04-24 19:48:55 UTC                                  &#x2502;
&#x2502; Expires     &#x2502;                                                          &#x2502;
&#x2570;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x256F;
</code></pre>
<p>With an operator, we are ready to create our first account.</p>
<h4 id="creating-an-account"><a name="creating-an-account" class="plugin-anchor" href="#creating-an-account"><i class="fa fa-link" aria-hidden="true"></i></a>Creating an Account</h4>
<p>Let&#x2019;s create an account called <code>TestAccount</code>:</p>
<pre class="language-"><code>&gt; nsc add account -n TestAccount
Generated account key - private key stored &#x201C;~/.nkeys/Test/accounts/TestAccount/TestAccount.nk&quot;
Success! - added account &quot;TestAccount&quot;
</code></pre><p>As we did with the operator, we can describe the account:</p>
<pre class="language-"><code class="lang-text">&gt; nsc describe account 
&#x256D;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x256E;
&#x2502;                  Account Details                   &#x2502;
&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;
&#x2502; Name                     &#x2502; TestAccount             &#x2502;
&#x2502; Account ID               &#x2502; AC7PO3MREV26            &#x2502;
&#x2502; Issuer ID                &#x2502; OAYI3YUZSWDN            &#x2502;
&#x2502; Issued                   &#x2502; 2019-04-24 19:58:01 UTC &#x2502;
&#x2502; Expires                  &#x2502;                         &#x2502;
&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;
&#x2502; Max Connections          &#x2502; Unlimited               &#x2502;
&#x2502; Max Data                 &#x2502; Unlimited               &#x2502;
&#x2502; Max Exports              &#x2502; Unlimited               &#x2502;
&#x2502; Max Imports              &#x2502; Unlimited               &#x2502;
&#x2502; Max Msg Payload          &#x2502; Unlimited               &#x2502;
&#x2502; Max Subscriptions        &#x2502; Unlimited               &#x2502;
&#x2502; Exports Allows Wildcards &#x2502; True                    &#x2502;
&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;
&#x2502; Imports                  &#x2502; None                    &#x2502;
&#x2502; Exports                  &#x2502; None                    &#x2502;
&#x2570;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x256F;
</code></pre>
<p>Again, specifying the <code>-W</code> flag will print the complete account ID (the public key identifying the account).</p>
<p>Note that the issuer for the account is the ID for the operator (the public key identifying the operator).</p>
<p>Now we are ready to add a user.</p>
<h4 id="creating-a-user"><a name="creating-a-user" class="plugin-anchor" href="#creating-a-user"><i class="fa fa-link" aria-hidden="true"></i></a>Creating a User</h4>
<p>Let&#x2019;s add a user named &#x2018;TestUser&#x2019;:</p>
<pre class="language-"><code class="lang-text">&gt; nsc add user -n TestUser
Generated user key - private key stored &quot;~/.nkeys/Test/accounts/TestAccount/users/TestUser.nk&quot;
Generated user creds file &quot;~/.nkeys/Test/accounts/TestAccount/users/TestUser.creds&quot;
Success! - added user &quot;TestUser&quot; to &quot;TestAccount&quot;
</code></pre>
<p>Note that when we added the user, we got a message telling us about a <code>.creds</code> file being created. The <code>.creds</code> file contains the JWT describing the user, and the private  (seed) key for the user. This file is formatted in a special way for use by nats client libraries. Client libraries can extract the JWT and seed key, and connect to a server expecting JWT authentication, provide the JWT and use the private key to sign the nonce to verify its identity.</p>
<p>And let&#x2019;s describe it:</p>
<pre class="language-"><code class="lang-text">&gt; nsc describe user
&#x256D;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x256E;
&#x2502;                   User                    &#x2502;
&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;
&#x2502; Name            &#x2502; TestUser                &#x2502;
&#x2502; User ID         &#x2502; UCQB7NONBKRC            &#x2502;
&#x2502; Issuer ID       &#x2502; AC7PO3MREV26            &#x2502;
&#x2502; Issued          &#x2502; 2019-04-24 20:36:25 UTC &#x2502;
&#x2502; Expires         &#x2502;                         &#x2502;
&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;
&#x2502; Max Messages    &#x2502; Unlimited               &#x2502;
&#x2502; Max Msg Payload &#x2502; Unlimited               &#x2502;
&#x2502; Network Src     &#x2502; Any                     &#x2502;
&#x2502; Time            &#x2502; Any                     &#x2502;
&#x2570;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x256F;
</code></pre>
<p>Let&#x2019;s put all of this together, and create a simple server configuration that accepts sessions from TestUser.</p>
<h3 id="account-server-configuration"><a name="account-server-configuration" class="plugin-anchor" href="#account-server-configuration"><i class="fa fa-link" aria-hidden="true"></i></a>Account Server Configuration</h3>
<p>To configure a server to use accounts you need an <em>account resolver</em>. An account resolver exposes a URL where a nats-server can query for JWTs belonging to an account.</p>
<p>A simple built-in resolver is the <code>MEMORY</code> resolver which simply statically maps account public keys to an account JWT in the server&#x2019;s configuration file. It is somewhat easier to configure because it doesn&#x2019;t require another moving part, but fails provide the needed experience of setting up an account server. Let&#x2019;s setup an <em>Account Server</em>.</p>
<p>Installing the Account Server</p>
<pre class="language-"><code class="lang-text">&gt; go get github.com/nats-io/nats-account-server
</code></pre>
<p>The account server has options to enable you to use an nsc directory directly. Let&#x2019;s start one:</p>
<pre class="language-"><code class="lang-text">&gt; nats-account-server -nsc ~/.nsc/nats/Test
</code></pre>
<p>Above we pointed the account server to our nsc data directory (more specifically to the <code>Test</code> operator that we created earlier). By default, the server listens on the localhost at port 9090.</p>
<p>We are now ready to configure the nats-server</p>
<h3 id="nats-server-configuration"><a name="nats-server-configuration" class="plugin-anchor" href="#nats-server-configuration"><i class="fa fa-link" aria-hidden="true"></i></a>NATS Server Configuration</h3>
<p>If you don&#x2019;t have a nats-server installed, let&#x2019;s do that now:</p>
<pre class="language-"><code class="lang-text">&gt; go get github.com/nats-io/nats-server
</code></pre>
<p>Let&#x2019;s create a configuration that references our operator JWT and the nats-account-server as a resolver:</p>
<pre class="language-"><code class="lang-yaml"><span class="token key atrule">operator</span><span class="token punctuation">:</span> /Users/synadia/.nsc/nats/Test/Test.jwt
<span class="token key atrule">resolver</span><span class="token punctuation">:</span> URL(http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>9090/jwt/v1/accounts/)
</code></pre>
<p>At minimum the server requires the <code>operator</code> JWT, which we have pointed at directly, and a resolver. The resolver has two types <code>MEM</code> and <code>URL</code>. We are interested in the <code>URL</code> since we want the nats-server to talk to the account server. Note we put the URL of the server with the path <code>/jwt/v1/accounts</code>. Currently this is where the account server expects requests for account information.</p>
<h3 id="client-testing"><a name="client-testing" class="plugin-anchor" href="#client-testing"><i class="fa fa-link" aria-hidden="true"></i></a>Client Testing</h3>
<p>Let&#x2019;s install some tooling:</p>
<pre class="language-"><code class="lang-text">&gt; go get github.com/nats-io/go-nats/examples/nats-pub

&gt; go get github.com/nats-io/go-nats/examples/nats-sub
</code></pre>
<p>Create a subscriber:</p>
<pre class="language-"><code class="lang-text">nats-sub -creds ~/.nkeys/Test/accounts/TestAccount/users/TestUser.creds &quot;&gt;&quot;
Listening on [&gt;]
</code></pre>
<p>Publish a message:</p>
<pre class="language-"><code class="lang-text">nats-pub -creds ~/.nkeys/Test/accounts/TestAccount/users/TestUser.creds hello NATS 
Published [hello] : &apos;NATS&apos;
</code></pre>
<p>Subscriber shows:</p>
<pre class="language-"><code class="lang-text">[#1] Received on [hello]: &#x2019;NATS&#x2019;
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: nsc">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="streams.html" class="navigation navigation-next " aria-label="Next page: Streams">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Basics","level":"5.3.1","depth":2,"next":{"title":"Streams","level":"5.3.2","depth":2,"path":"nats_tools/nsc/streams.md","ref":"nats_tools/nsc/streams.md","articles":[]},"previous":{"title":"nsc","level":"5.3","depth":1,"path":"nats_tools/nsc/README.md","ref":"nats_tools/nsc/README.md","articles":[{"title":"Basics","level":"5.3.1","depth":2,"path":"nats_tools/nsc/nsc.md","ref":"nats_tools/nsc/nsc.md","articles":[]},{"title":"Streams","level":"5.3.2","depth":2,"path":"nats_tools/nsc/streams.md","ref":"nats_tools/nsc/streams.md","articles":[]},{"title":"Services","level":"5.3.3","depth":2,"path":"nats_tools/nsc/services.md","ref":"nats_tools/nsc/services.md","articles":[]},{"title":"Signing Keys","level":"5.3.4","depth":2,"path":"nats_tools/nsc/signing_keys.md","ref":"nats_tools/nsc/signing_keys.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["prism","-highlight","include-html","toggle-chapters","anchors"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"lang":{"ascii":"markup","text":"markup"}},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"include-html":{},"fontsettings":{"theme":"white","family":"sans","size":2},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{},"toggle-chapters":{}},"theme":"default","author":"The NATS Maintainers","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"NATS","gitbook":"*","description":"Administrative, developer and conceptual documentation for the NATS messaging system."},"file":{"path":"nats_tools/nsc/nsc.md","mtime":"2019-05-20T19:31:21.532Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-05-24T21:09:44.530Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

<!-- Viz Support -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/viz.js/2.1.2/viz.js"> </script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/viz.js/2.1.2/lite.render.js"> </script>

<!-- Site code -->
<script>
    function flash(elem, text, speed) {
        if (!elem) {
            return;
        }
        var s = elem.style;
        elem.textContent = text;
        s.display = 'block';
        s.opacity = 1;
        (function fade() {
            (s.opacity -= .1) < .1 ? s.display = "none" : setTimeout(fade, speed)
        })();
    }

    function copyToClipboard(text, el) {
        var copyTest = document.queryCommandSupported('copy');
        var elOriginalText = el.getAttribute('data-original-title');

        if (copyTest === true) {
            var copyTextArea = document.createElement("textarea");
            copyTextArea.value = text;
            document.body.appendChild(copyTextArea);
            copyTextArea.select();
            try {
                var successful = document.execCommand('copy');
                var msg = successful ? 'Copied!' : 'Whoops, not copied!';
                var parent = el.parentNode.parentNode;
                var msgElem = parent.querySelector(".copy-msg");
                flash(msgElem, msg, 100);
            } catch (err) {
                console.log('Oops, unable to copy', err);
            }
            document.body.removeChild(copyTextArea);
            el.setAttribute('data-original-title', elOriginalText);
        } else {
            // Fallback if browser doesn't support .execCommand('copy')
            window.prompt("Copy to clipboard: Ctrl+C or Command+C, Enter", text);
        }
    }

    function processGraphVizSections(elements) {
        var elements = document.querySelectorAll("[data-viz]");
        var viz = new Viz();
        Array.prototype.forEach.call(elements, function (x) {
            var engine = x.getAttribute("data-viz");
            var image = viz.renderImageElement(x.innerText, {
                format: "png",
                engine: engine
            }).then(function (element) {
                x.parentNode.insertBefore(element, x);
            });
        });


    };

    function updateLanguageParameter(value) {
        const param = "lang";

        if (window.location.href.indexOf("?") >= 0) {
            const regExp = new RegExp(param + "(.+?)(&|$)", "g");
            const newUrl = window.location.href.replace(regExp, param + "=" + encodeURIComponent(value) + "$2");
            window.history.pushState("", "", newUrl);
        } else {
            const newUrl = window.location.href + "?" + param + "=" + encodeURIComponent(value);
            window.history.pushState("", "", newUrl);
        }
    }

    function getLanguageParameter() {
        var match = RegExp('[?&]lang=([^&]*)').exec(window.location.search);
        return match && decodeURIComponent(match[1].replace(/\+/g, ' '));
    }

    function docReady() {
        window.gitbook.events.bind("page.change", function () {
            pageChanged();
        });
    }

    function pageChanged() {
        document.querySelectorAll('.js-copy').forEach(elem => {
            elem.addEventListener("click", function () {
                var el = this;
                var parent = this.parentNode.parentNode;
                var code = parent.querySelector('code');
                var text = code.textContent || code.innerText;
                copyToClipboard(text, el);
            })
        });

        document.querySelectorAll('.api-lang').forEach(elem => {
            elem.addEventListener("click", function () {
                var curLang = sessionStorage.getItem('nats-api-language');
                var lang = this.getAttribute('data-language');

                // Stop the infinite loop
                if (curLang == lang) {
                    return;
                }

                sessionStorage.setItem('nats-api-language', lang); // So we only do this 1x

                updateLanguageParameter(lang)

                document.querySelectorAll('.api-lang[data-language=' + lang + ']').forEach(elem => {
                    elem.click();
                });
            })
        });

        if (sessionStorage) {
            var curLang = sessionStorage.getItem('nats-api-language');
            var queryLang = getLanguageParameter();
            var lang = curLang;

            if (queryLang) { // query takes precedent
                lang = queryLang
            }

            if (lang) {
                document.querySelectorAll('.api-lang[data-language=' + lang + ']').forEach(elem => {
                    elem.click();
                });
            }
        }

        setTimeout(function () {
            processGraphVizSections();
        }, 1);
    }


    if (document.readyState != 'loading') docReady();
    else if (document.addEventListener) document.addEventListener('DOMContentLoaded', docReady);
    else document.attachEvent('onreadystatechange', function () {
        if (document.readyState == 'complete') docReady();
    });
</script>

<!-- Github Buttons -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

<!-- Styles -->
<style>
    div.graphviz {
        background: transparent;
        border: 0;
        padding-top: 15px;
        padding-right: 15px;
        padding-bottom: 25px;
        padding-left: 15px;
        text-align: center;
    }

    code[data-viz] {
        display: none;
    }

    .tab-wrap {
        transition: 0.3s box-shadow ease;
        border-radius: 6px;
        max-width: 100%;
        display: flex;
        flex-wrap: wrap;
        position: relative;
        list-style: none;
        background-color: #fff;
        margin: 20px 0;
        /* box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);*/
    }

    .tab-wrap:hover {
        box-shadow: 0 12px 23px rgba(0, 0, 0, 0.23), 0 10px 10px rgba(0, 0, 0, 0.19);
    }

    .tab {
        display: none;
    }

    /* Using scss these would be generated, we have to manually create enough for all tabs, start with 8 */
    .tab:checked:nth-of-type(1)~.tab__content:nth-of-type(1) {
        opacity: 1;
        transition: 0.5s opacity ease-in, 0.8s -webkit-transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease, 0.8s -webkit-transform ease;
        position: relative;
        top: 0;
        z-index: 100;
        -webkit-transform: translateY(0px);
        transform: translateY(0px);
        text-shadow: 0 0 0;
    }

    .tab:checked:nth-of-type(2)~.tab__content:nth-of-type(2) {
        opacity: 1;
        transition: 0.5s opacity ease-in, 0.8s -webkit-transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease, 0.8s -webkit-transform ease;
        position: relative;
        top: 0;
        z-index: 100;
        -webkit-transform: translateY(0px);
        transform: translateY(0px);
        text-shadow: 0 0 0;
    }

    .tab:checked:nth-of-type(3)~.tab__content:nth-of-type(3) {
        opacity: 1;
        transition: 0.5s opacity ease-in, 0.8s -webkit-transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease, 0.8s -webkit-transform ease;
        position: relative;
        top: 0;
        z-index: 100;
        -webkit-transform: translateY(0px);
        transform: translateY(0px);
        text-shadow: 0 0 0;
    }

    .tab:checked:nth-of-type(4)~.tab__content:nth-of-type(4) {
        opacity: 1;
        transition: 0.5s opacity ease-in, 0.8s -webkit-transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease, 0.8s -webkit-transform ease;
        position: relative;
        top: 0;
        z-index: 100;
        -webkit-transform: translateY(0px);
        transform: translateY(0px);
        text-shadow: 0 0 0;
    }

    .tab:checked:nth-of-type(5)~.tab__content:nth-of-type(5) {
        opacity: 1;
        transition: 0.5s opacity ease-in, 0.8s -webkit-transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease, 0.8s -webkit-transform ease;
        position: relative;
        top: 0;
        z-index: 100;
        -webkit-transform: translateY(0px);
        transform: translateY(0px);
        text-shadow: 0 0 0;
    }

    .tab:checked:nth-of-type(6)~.tab__content:nth-of-type(6) {
        opacity: 1;
        transition: 0.5s opacity ease-in, 0.8s -webkit-transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease, 0.8s -webkit-transform ease;
        position: relative;
        top: 0;
        z-index: 100;
        -webkit-transform: translateY(0px);
        transform: translateY(0px);
        text-shadow: 0 0 0;
    }

    .tab:checked:nth-of-type(7)~.tab__content:nth-of-type(7) {
        opacity: 1;
        transition: 0.5s opacity ease-in, 0.8s -webkit-transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease, 0.8s -webkit-transform ease;
        position: relative;
        top: 0;
        z-index: 100;
        -webkit-transform: translateY(0px);
        transform: translateY(0px);
        text-shadow: 0 0 0;
    }

    .tab:checked:nth-of-type(8)~.tab__content:nth-of-type(8) {
        opacity: 1;
        transition: 0.5s opacity ease-in, 0.8s -webkit-transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease;
        transition: 0.5s opacity ease-in, 0.8s transform ease, 0.8s -webkit-transform ease;
        position: relative;
        top: 0;
        z-index: 100;
        -webkit-transform: translateY(0px);
        transform: translateY(0px);
        text-shadow: 0 0 0;
    }

    .tab:first-of-type:not(:last-of-type)+label {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .tab:not(:first-of-type):not(:last-of-type)+label {
        border-radius: 0;
    }

    .tab:last-of-type:not(:first-of-type)+label {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }

    .tab:checked+label {
        background-color: #fff;
        box-shadow: 0 -1px 0 #fff inset;
        cursor: default;
        font-weight: bold;
        border: 1px solid #ddd;
        border-bottom-color: transparent;
    }

    .tab:checked+label:hover {
        box-shadow: 0 -1px 0 #fff inset;
        background-color: #fff;
    }

    .tab+label {
        box-shadow: 0 -1px 0 #eee inset;
        border-radius: 6px 6px 0 0;
        cursor: pointer;
        display: block;
        text-decoration: none;
        color: #27aae1;
        flex-grow: 3;
        text-align: center;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        text-align: center;
        transition: 0.3s background-color ease, 0.3s box-shadow ease;
        height: 50px;
        box-sizing: border-box;
        padding: 15px;
    }

    .tab+label:hover {
        background-color: #f9f9f9;
        box-shadow: 0 1px 0 #f4f4f4 inset;
    }

    .tab__content {
        padding: 2px 2px;
        background-color: transparent;
        position: absolute;
        width: 100%;
        z-index: -1;
        opacity: 0;
        left: 0;
        -webkit-transform: translateY(-3px);
        transform: translateY(-3px);
        border-radius: 6px;
    }

    .tab__content pre {
        margin-bottom: 0px !important;
    }

    .toolbar-icons {
        display: inline-block;
        position: relative;
        padding-left: 4px;
    }

    a.toolbar-icons {
        text-decoration: none;
    }

    .toolbar-icons .mdi {
        color: #4183c4;
    }

    .copy-msg {
        color: #4183c4;
    }

    .pull-right {
        float: right !important;
    }

    .pull-left {
        float: left !important;
    }
</style>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-toggle-chapters/toggle.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

